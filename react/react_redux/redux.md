# Redux

## 1. redux

- 상태 관리 라이브러리
- react에서만 사용하는 것이 아니고 node 관련된 프로젝트에서는 어디서는 사용 가능
- Context API나 useReducer가 나오기 전부터 존재
- redux를 이용하면 상태 관련 로직을 별도의 파일로 분리해서 관리할 수 있습니다.  
  데이터 공유도 수월해짐
- 프로젝트의 규모가 크거나 비동기 작업을 주로 하는 경우에 사용

## 2. 키워드

### 1) Action

- 상태에 어떠한 변화가 필요하게 될 때 발생시키는 객체
- 이 객체는 type이 필수이고 나머지는 옵션  
  type을 가지고 동작을 구분해서 작업을 수행

  ### 2) Action Creater

  - Action을 생성하는 함수
  - 필수는 아님
  - 직접 Action 객체를 생성해도 되지만 별도의 함수를 만들어서 사용기도 합니다.

  ### 3) Reducer

  - 상태 변화를 일으키는 함수

  ### 4) Store

  - redux를 사용하는 애플리케이션에는 하나의 Store가 생성되는데 이 Store에는 애플리케이션의 state와 reducer가 들어있고 몇 개의 내장 함수를 제공
  - dispatch: 실제 액션을 발생시키는 함수  
    이 함수에 action 객체를 대입하면 dispatch가 reducer를 호출해서 함수를 실행해서 상태를 변경시킴
  - subscribe: 이 함수는 함수 형태의 파라미터를 받아서 action이 dispatch 될 때 호출되서 파라미터로 받은 함수를 실행

  ## 3. 규칙

  ### 1) 하나의 애플리케이션에 하나의 스토어를 갖는 것이 원칙

  ### 2) state는 읽기 전용

  ### 3) reducer는 pure function 이어야 함

  - pure function(순수 함수)  
    외부에서 넘겨받은 매개변수는 수정하지 않고 복제를 해서 수정한 후 return  
    동일한 입력이면 동일한 출력이 만들어져야 합니다.  
    랜덤이나 new Date 또는 네트워크에서 다운로드 받는 작업 등은 일정한 출력을 만들어내지 못하므로 reduce에서 처리하면 안되고 별도의 미들웨어를 만들어서 처리

## 4. 프로젝트에 자바스크립트 파일을 생성하고 호출

### 1) src 디렉터리에 exercise.js 파일

## 5. redux 생성

## 6. Redux Module

- 리덕스 모듈은 액션 타입, 액션 생성 함수, 리듀서를 포함하는 자바스크립트 파일
- 리덕스 샘플에서는 액션과 리듀서를 분리해서 정의
- 실제 개발 환경에서는 대부분 액션과 리듀서를 하나의 파일에 만드는 경우가 많음  
  이렇게 하나의 파일에 만드는 것을 Ducks 패턴이라고 함
- 이전의 예제를 모듈화 시킨다면 counter를 변화를 주는 부분과 text에 변화를 주는 부분 그리고 배열에 변화를 주는 부분을 별도의 파일에 작성하고 다른 파일(index.js)에서 이를 combine한 후 export하는 형태로 만드는 것이 일반적입니다.  
  액션을 구분하기 위해서 액션 이름을 만들 때 액션 이름 앞에 접두어를 사용합니다.

## 7. react 프로젝트에 redux 적용

### 7) 컴포넌트 분류

- Presentational Component: 리덕스 스터에 직접 접근하지 않고 필요한 값이나 함수를 넘겨받아서 사용하는 컴포넌트로 UI를 선언하는 것에만 집중

- Container Component: 리덕스 스토어에 접근해서 상태를 조회하거나 액션을 디스패치하는 컴포넌트로 HTML 태그를 사용하지 않고 Component를 가져와서 사용만 함
  yarn add redux react-redux
